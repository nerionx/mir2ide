<html>
    <head>
       <link rel="stylesheet" href="css/bootstrap.css">
       <link rel="stylesheet" href="css/index2.css">
       <link rel="stylesheet" href="css/codemirror.css">
       <link rel="stylesheet" href="css/font-awesome.min.css">
        <script src="src/jquery-3.2.1.min.js"></script>
        <script src="src/bootstrap.bundle.min.js"></script>
        <script src="src/codemirror.js"></script>
        <script src="src/define_grammar_mode.js"></script>
        <script src="src/codemirror_grammar.min.js"></script>
        <script src="src/mirscript.js"></script>
        <script src="src/parseScript.js"></script>
        <script src="src/parseIf.js"></script>
        <script src="src/parseAct.js"></script>
        <script src="src/parseSay.js"></script>
        <script src="src/gui.js"></script>
        <script src="src/builtinPages.js"></script>
    </head>
     <heading>
        <div class="text-white text-center" style='background-color:black;'>The Legend of Mir 2 - Script Editor</div>
    </heading>
  <body>
  <nav class="navbar navbar-expand-sm bg-dark navbar-dark">
    <ul class="nav navbar-nav">
      <li class="nav-item dropdown">
          <a class="nav-link dropdown-toggle" id="navbardrop" data-toggle="dropdown" href="#"><span class="fa fa-file"></span>&nbsp File</a>
      <div class="dropdown-menu">
          <a class="dropdown-item" href="#" data-toggle="modal" data-target="#yousure" ><span class="fa fa-file"></span>&nbsp New File</a>
          <div class="dropdown-divider"></div>          
          <a class="dropdown-item" href="#" onclick="openFile()"><span class="fa fa-file-code-o"></span>&nbsp Open Local File<input id="file-open" type="file" name="file-open" style="display: none;"/></a>
          <a class="dropdown-item" href="#" download="npcscript.txt" id="saveas"><span class="fa fa-floppy-o"></span>&nbsp Download Script</a>
          <div class="dropdown-divider"></div>
          <a class="dropdown-item" href="#"><span class="fa fa-sign-out"></span>&nbsp Exit</a>
      </div>
      
        </li>
      <li class="nav-item">
          <a class="nav-link" href="#simulatorModal" onclick="startParse()" data-target="#simulatorModal"><span class="fa fa-play-circle"></span>&nbsp Run</a>
          </li>
          <li>
            <a class="nav-link" href="#"onclick = "startParse(false)"><span class="fa fa-check-circle"></span>&nbsp Check</a>
          </li>
          </ul>
          <ul class = "nav navbar-nav navbar-right">
          <li>
            <a class="nav-link" data-target="#aboutModal" data-toggle="modal" href="#"onclick = ""><span class="fa fa-user"></span>&nbsp About</a>
          </li>
      </ul>
    
  </nav>

  <div id="diveditor">
      <!--<span style="border:1pt; border-style:solid; display: inline-block; overflow: auto; width:100%; height:70%" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true" id="editor" class="code-editor bg-dark text-white"></span>-->
      <textarea id="editor"></textarea>
      <header style="background-color: black" class="text-white text-center">Console</header>
      <span style="display: inline-block; overflow: auto; width:100%; height:20%" id="script-console" class="code-console bg-dark text-white"></span>
      <!--Code mirror-->
      <script>
        var editor = CodeMirror.fromTextArea(document.getElementById("editor"),{lineNumbers: true, mode: "mirscript"});
      </script>
  </div>

  <!--Simulator Modal -->
  <div id="simulatorModal" class="modal fade" role="dialog">
      <div class="modal-dialog">
          <div class="modal-content">
              <div class="modal-header">
                  <h4 class ="modal-title">NPC Simulator</h4>
              </div>
              <div class="modal-body">
                  <p id="simulatorSpeech"></p>
                  <hr />
                  <h5>Events</h5>
                  <p id="simulatorEvents"></p>
              </div>
              <div class="modal-footer">
                  <button type="button" class="btn btn-default fa fa-refresh" onclick="refreshSim()">&nbsp Refresh</button>
                  <button type="button" class="btn btn-default fa fa-close" data-dismiss="modal">&nbsp Close</button>
              </div>
          </div>
      </div>
  </div>
  <div id="aboutModal" class="modal fade" role="dialog">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class ="modal-title">About</h4>
            </div>
            <div class="modal-body">
                Written by Almanac on Edens-Elite<br>
                if you like it feel free to donate some gold ;)
            </div>
            <div class="modal-footer">
                
                <button type="button" class="btn btn-default fa fa-close" data-dismiss="modal">&nbsp Close</button>
            </div>
        </div>
    </div>
</div>
<div id="yousure" class="modal fade" role="dialog">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class ="modal-title">Lose unsaved changes</h4>
            </div>
            <div class="modal-body">
                Are you sure you want to create a new file?<br>
                You will lose all unsaved changes
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default fa fa-thumbs-up" onclick="clearScript()">&nbsp Yes</button>
                <button type="button" class="btn btn-default fa fa-thumbs-down" data-dismiss="modal">&nbsp No</button>
            </div>
        </div>
    </div>
</div>

  </body>
</html>